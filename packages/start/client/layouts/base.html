<script is:build>
	import meta from '@components/meta'
	import nav from '@components/nav'
	import footer from '@components/footer'
	import site from '@content/site'
	const { storageKey, attribute } = site.theme
</script>

<html lang="en">
	<head>
		<meta-component props="{...Aero.props}" />
		<link rel="stylesheet" href="@styles/global.css" />
		<script src="@scripts/index.ts"></script>

		<!-- Should data in inline scripts resolve to raw values? -->
		<!-- Instead of current `const a, b = ... ? -->
		<script pass:data="{{storageKey, attribute}}">
			const theme = JSON.parse(localStorage.getItem(storageKey))
			document.documentElement.setAttribute(attribute, theme)
		</script>
	</head>

	<body id="app">
		<nav-component>
			<slot name="into-nav"></slot>
		</nav-component>

		<slot></slot>

		<footer-component />
	</body>
</html>
