<script on:build>
	import base from '@layouts/base'
	import { getCollection, render } from 'aero:content'

	export async function getStaticPaths() {
		const docs = await getCollection('docs')
		return docs.map(doc => ({ params: { slug: doc.id }, props: doc }))
	}

	const doc = Aero.props
	const { html } = await render(doc)
</script>

<base-layout title="{doc ? doc.data.title : 'Doc Not Found'}">
	<article if="{ doc }" class="prose">
		<a href="/docs">‚Üê All docs</a>
		<header>
			<h1>{doc.data.title}</h1>
			<p class="subtitle secondary">{doc.data.subtitle}</p>
			<hr />
		</header>
		<section>{html}</section>
	</article>
</base-layout>
