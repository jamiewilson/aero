<script is:build>
	import logo from '@components/logo'
	const isHomepage = Aero.url.pathname === '/'
	const props = Aero.props
</script>

<header>
	<logo-component if="{isHomepage}" class="logo" />
	<h1 else-if="{props.custom}">{props.custom.title}</h1>
	<h2 else>Fallback Title</h2>

	<p class="subtitle secondary">{props.subtitle}</p>

	<!-- Overrides global styles -->
	<style>
		@scope {
			:scope {
				background: none;
			}

			.logo {
				width: 300px;
				margin-bottom: 1rem;
			}

			.subtitle {
				max-width: 45ch;
				text-wrap: pretty;
			}
		}
	</style>
</header>

<!-- Global styles -->
<style>
	header {
		background: red;
	}
</style>

<!-- TODO: Fix vscode diagnostics for new src taxonomy 
 no longer requires is:* attr, type=module should satisfy import warning on is:inline -->
<script pass:data="{{ isHomepage }}" type="module">
	import { allCaps } from '@scripts/utils/transform'
	console.debug(allCaps('[aero]'), 'isHomepage', isHomepage)
</script>

<!-- TODO: Need to ignore comments for diagnostics. Didn't we do this already!? -->
<!--<script>
	import { allCaps } from '@scripts/utils/transform'
</script>-->
